import{r as n,j as e,a as p}from"./app-gHG3FWNm.js";import{R as b}from"./receipt-BRtzLCER.js";import{L as h,S as y}from"./ship-wheel-BLi90BBY.js";import"./createLucideIcon-Cehs4-sn.js";function R(){const[t,g]=n.useState({refid:"",latitude:"",longitude:""}),[r,o]=n.useState(!1),[i,d]=n.useState(null),l=s=>{g({...t,[s.target.name]:s.target.value})},f=async s=>{var c,u,m,x;s.preventDefault(),o(!0),d(null);try{const a=await p.post("/cms/airtel",t);console.log("✅ API Response:",a.data),((c=a.data)==null?void 0:c.status)===!0&&((u=a.data)!=null&&u.redirectionUrl)?window.location.href=a.data.redirectionUrl:alert("API Response: "+JSON.stringify(a.data))}catch(a){console.log("❌ Error:",a),d(((x=(m=a.response)==null?void 0:m.data)==null?void 0:x.message)||"Network error or server is unreachable.")}finally{o(!1)}};return e.jsx("div",{className:"flex justify-center max-w-full min-h-screen",children:e.jsxs("div",{className:"shadow-lg  p-6 w-full ",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"Generate URL"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(b,{size:20,className:"text-green-500 animate-bounce"}),e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Ref ID:"})]}),e.jsx("input",{type:"number",name:"refid",value:t.refid,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-700"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(h,{size:20,className:"text-yellow-500 animate-bounce"}),e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"latitude:"})]}),e.jsx("input",{type:"text",name:"latitude",value:t.latitude,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-700"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(y,{size:20,className:"text-red-500 animate-bounce"}),e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"latitude:"})]}),e.jsx("input",{type:"text",name:"longitude",value:t.longitude,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-700"})]}),e.jsx("button",{type:"submit",disabled:r,className:`w-full px-4 py-2 text-white font-semibold rounded-lg transition ${r?"bg-gray-400 cursor-not-allowed":"bg-gray-900 hover:bg-black"}`,children:r?"Processing...":"Generate URL"})]}),i&&e.jsx("p",{className:"text-red-500 text-center mt-3",children:i})]})})}export{R as default};
