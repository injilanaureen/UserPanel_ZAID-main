import{r as a,j as e,a as x}from"./app-C9Hasp1L.js";import{A as N}from"./AdminLayout-dj7iNOPP.js";import"./x-o7aJ_J0I.js";import"./createLucideIcon-BHfLX7CN.js";const g=()=>{const[t,m]=a.useState(""),[r,b]=a.useState(""),[s,c]=a.useState(null),[d,n]=a.useState(!1),[o,i]=a.useState(null),h=async()=>{n(!0),i(null);try{const l=await x.post("/api/fetchConsumerDetails",{operator:t,canumber:r});c(l.data)}catch(l){console.error("Error fetching data:",l),i("Failed to fetch details. Please try again."),c(null)}n(!1)};return e.jsxs(N,{children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"Fastag Consumer Details"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium",children:"Operator ID:"}),e.jsx("input",{type:"number",value:t,onChange:l=>m(l.target.value),className:"border p-2 w-full"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium",children:"CA Number:"}),e.jsx("input",{type:"text",value:r,onChange:l=>b(l.target.value),className:"border p-2 w-full"})]}),e.jsx("button",{onClick:h,className:"bg-blue-500 text-white px-4 py-2 rounded",disabled:d,children:d?"Fetching...":"Fetch Details"}),o&&e.jsx("p",{className:"text-red-500 mt-2",children:o}),s&&e.jsxs("div",{className:"mt-6 p-4 border rounded bg-white",children:[e.jsx("h2",{className:"font-bold text-lg mb-3",children:"Bill Details"}),e.jsx("table",{className:"w-full border-collapse border border-gray-300",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Response Code"}),e.jsx("td",{className:"p-2",children:s.response_code})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Status"}),e.jsx("td",{className:"p-2",children:s.status?"Success":"Failed"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Amount"}),e.jsxs("td",{className:"p-2",children:["₹",s.amount]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Name"}),e.jsx("td",{className:"p-2",children:s.name})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Due Date"}),e.jsx("td",{className:"p-2",children:s.duedate})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Cell Number"}),e.jsx("td",{className:"p-2",children:s.bill_fetch.cellNumber})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Username"}),e.jsx("td",{className:"p-2",children:s.bill_fetch.userName})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Bill Amount"}),e.jsxs("td",{className:"p-2",children:["₹",s.bill_fetch.billAmount]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Net Amount"}),e.jsxs("td",{className:"p-2",children:["₹",s.bill_fetch.billnetamount]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Max Bill Amount"}),e.jsxs("td",{className:"p-2",children:["₹",s.bill_fetch.maxBillAmount]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Accept Payment"}),e.jsx("td",{className:"p-2",children:s.bill_fetch.acceptPayment?"Yes":"No"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-semibold",children:"Accept Partial Payment"}),e.jsx("td",{className:"p-2",children:s.bill_fetch.acceptPartPay?"Yes":"No"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 font-semibold",children:"Message"}),e.jsx("td",{className:"p-2",children:s.message})]})]})})]})]})};export{g as default};
