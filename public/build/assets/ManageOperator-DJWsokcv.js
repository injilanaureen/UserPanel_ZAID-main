import{r as s,a as N,j as e,L as w}from"./app-DquUJuBT.js";import{A as v}from"./AdminLayout-D_t_igdY.js";import"./x-DJJaBMj6.js";import"./createLucideIcon-CoNR3xxQ.js";import"./log-out-Dx0zQeN8.js";function E(){const[m,g]=s.useState([]),[p,l]=s.useState(!0),[d,n]=s.useState(null),[c,h]=s.useState(""),[o,u]=s.useState(""),[y,f]=s.useState([]);s.useEffect(()=>{i()},[]);const i=async()=>{var t,a;try{l(!0);const r=await N.get("/admin/recharge/get-operators");if(r.data.status===!0){g(r.data.data);const b=[...new Set(r.data.data.map(j=>j.category))];f(b)}else n("Failed to fetch operators: "+r.data.message)}catch(r){n("Error fetching operators: "+(((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||r.message))}finally{l(!1)}},x=m.filter(t=>{const a=t.name.toLowerCase().includes(c.toLowerCase()),r=o===""||t.category===o;return a&&r});return e.jsxs(v,{children:[e.jsx(w,{title:"Manage Recharge Operators"}),e.jsx("div",{className:" bg-grey-200",children:e.jsx("div",{className:"max-w-full ",children:e.jsx("div",{className:"bg-gray-200 overflow-hidden shadow-lg sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-white",children:[e.jsx("div",{className:"bg-gradient-to-tr from-gray-400 to-black py-4 px-6",children:e.jsx("h2",{className:"text-3xl font-semibold text-white",children:"Manage Recharge Operator"})}),d&&e.jsx("div",{className:"bg-red-600 border border-red-700 text-white px-4 py-3 rounded mb-4",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:d})}),e.jsxs("div",{className:"mt-6 mb-6 flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("input",{type:"text",placeholder:"Search operators...",value:c,onChange:t=>h(t.target.value),className:"w-full px-4 py-2 bg-gray-300 border border-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"})}),e.jsx("div",{className:"md:w-1/2",children:e.jsxs("select",{value:o,onChange:t=>u(t.target.value),className:"w-full px-4 py-2 bg-gray-300 border border-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",children:[e.jsx("option",{value:"",children:"All Categories"}),y.map((t,a)=>e.jsx("option",{value:t,children:t},a))]})}),e.jsx("div",{children:e.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Refresh"})})]}),p?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-500"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-700 rounded-md",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800",children:[e.jsx("th",{className:"px-6 py-3 border-b border-gray-200 text-left text-xs font-medium text-gray-400 uppercase",children:"ID"}),e.jsx("th",{className:"px-6 py-3 border-b border-gray-200 text-left text-xs font-medium text-gray-400 uppercase",children:"Operator Name"}),e.jsx("th",{className:"px-6 py-3 border-b border-gray-200 text-left text-xs font-medium text-gray-400 uppercase",children:"Category"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-800",children:x.length>0?x.map((t,a)=>e.jsxs("tr",{className:"hover:bg-gray-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black ",children:t.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-black",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:t.category})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-6 py-4 text-center text-sm text-gray-400",children:"No operators found"})})})]})})]})})})})]})}export{E as default};
