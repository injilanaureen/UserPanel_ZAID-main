import{r as n,j as e,a as c}from"./app-Cd3PVVKy.js";import{A as g}from"./AdminLayout-qjaUUqqX.js";import"./x-BVpif6Ef.js";import"./createLucideIcon-i8qv_Mtr.js";import"./log-out-PSeqcWtz.js";const N=()=>{const[o,x]=n.useState("online"),[r,l]=n.useState(null),[m,i]=n.useState(!1),p=async a=>{try{await c.post("/municipality/save",a),console.log("✅ Data saved successfully")}catch(s){console.error("❌ Error saving data:",s)}},h=async()=>{var a;i(!0);try{const s=await c.post(route("municipality.fetch"),{mode:o});if(l(s.data),(a=s.data)!=null&&a.data)for(const t of s.data.data){const d={id:t.id,name:t.name,category:t.category||"",displayname:(t==null?void 0:t.displayname)||"No Display Name",regex:t.regex??"N/A",viewbill:t.viewbill,ad1_d_name:t.ad1_d_name??"N/A",ad1_name:t.ad1_name??"N/A",ad1_regex:t.ad1_regex??"N/A"};await p(d),console.log(d)}}catch(s){console.error("Error fetching data:",s),l(null)}i(!1)};return e.jsx(g,{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Municipality Operators"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Mode"}),e.jsxs("select",{value:o,onChange:a=>x(a.target.value),className:"appearance-none bg-gray-50 border border-gray-300 text-gray-700 py-2 px-4 pr-8 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 pt-6",children:e.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),e.jsxs("button",{onClick:h,className:"flex items-center text-sm bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md shadow transition duration-150 ease-in-out",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Fetch Data"]})]})]}),m?e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-3 text-blue-600 font-medium",children:"Loading data..."})]}):r&&r.data&&r.data.length>0?e.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:["ID","Name","Category","View Bill","Regex","Display Name","Ad1 Display Name","Ad1 Name","Ad1 Regex"].map(a=>e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a},a))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.category}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.viewbill}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:a.regex||"—"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.displayname||"—"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.ad1_d_name||"—"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.ad1_name||"—"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:a.ad1_regex||"—"})]},a.id))})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("svg",{className:"h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"mt-4 text-lg text-gray-600 font-medium",children:"No data available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try changing the mode or check your connection"})]})]})})};export{N as default};
