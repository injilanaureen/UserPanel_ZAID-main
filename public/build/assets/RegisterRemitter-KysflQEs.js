import{r as d,j as e,a as g}from"./app-CCaHcxlW.js";import{A as f}from"./AdminLayout-Bl1EIZ6y.js";import"./x-DomxVi1l.js";import"./createLucideIcon-Blvautya.js";const D=()=>{const[s,i]=d.useState({mobile:"",otp:"",stateresp:"",ekyc_id:""}),[n,y]=d.useState([]),[c,m]=d.useState(!1),[p,x]=d.useState(null),l=t=>{i({...s,[t.target.name]:t.target.value})},j=async t=>{var a,h,u,b;t.preventDefault(),m(!0),x(null);try{const r=await g.post("/register-remitter1",s);console.log("API Response:",r.data);const o={...s,limit:((a=r.data.data)==null?void 0:a.limit)||"",message:((h=r.data)==null?void 0:h.message)||"",response_code:((u=r.data)==null?void 0:u.response_code)||"",status:((b=r.data)==null?void 0:b.status)||""};await g.post("/store_register-remitter1",o),console.log("Data Stored Successfully",o),y(N=>[...N,o]),i({mobile:"",otp:"",stateresp:"",ekyc_id:""})}catch(r){console.error("API Error:",r),x("Something went wrong! Please try again.")}m(!1)};return e.jsx(f,{children:e.jsxs("div",{className:"p-4 bg-white shadow-md rounded-md",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Register Remitter"}),e.jsxs("form",{onSubmit:j,className:"space-y-3",children:[e.jsx("input",{type:"text",name:"mobile",placeholder:"Mobile",value:s.mobile,onChange:l,className:"w-full p-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"otp",placeholder:"Enter OTP (4 digits)",value:s.otp,onChange:l,className:"w-full p-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"stateresp",placeholder:"State Response",value:s.stateresp,onChange:l,className:"w-full p-2 border rounded",required:!0}),e.jsx("input",{type:"text",name:"ekyc_id",placeholder:"E-KYC ID",value:s.ekyc_id,onChange:l,className:"w-full p-2 border rounded",required:!0}),e.jsx("button",{type:"submit",className:"w-full bg-gray-500 text-white py-2 rounded",disabled:c,children:c?"Registering...":"Register Remitter"})]}),p&&e.jsx("div",{className:"mt-4 p-3 bg-red-200 text-red-800 rounded",children:p}),n.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Submitted Remitter Details"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-300 shadow-md rounded-lg overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-600 text-white text-sm",children:[e.jsx("th",{className:"border px-4 py-2",children:"Mobile"}),e.jsx("th",{className:"border px-4 py-2",children:"OTP"}),e.jsx("th",{className:"border px-4 py-2",children:"State Resp"}),e.jsx("th",{className:"border px-4 py-2",children:"E-KYC ID"}),e.jsx("th",{className:"border px-4 py-2",children:"Limit"}),e.jsx("th",{className:"border px-4 py-2",children:"Message"}),e.jsx("th",{className:"border px-4 py-2",children:"Response Code"}),e.jsx("th",{className:"border px-4 py-2",children:"Status"})]})}),e.jsx("tbody",{children:n.map((t,a)=>e.jsxs("tr",{className:`text-center text-gray-700 text-sm ${a%2===0?"bg-gray-100":"bg-white"} hover:bg-blue-100 transition`,children:[e.jsx("td",{className:"border px-4 py-2 font-medium",children:t.mobile}),e.jsx("td",{className:"border px-4 py-2",children:t.otp}),e.jsx("td",{className:"border px-4 py-2",children:t.stateresp}),e.jsx("td",{className:"border px-4 py-2",children:t.ekyc_id}),e.jsx("td",{className:"border px-4 py-2 font-semibold text-blue-600",children:t.limit}),e.jsx("td",{className:"border px-4 py-2 text-gray-600",children:t.message}),e.jsx("td",{className:"border px-4 py-2",children:t.response_code}),e.jsx("td",{className:`border px-4 py-2 font-semibold ${t.status?"text-green-600":"text-red-600"}`,children:t.status?"Active":"Inactive"})]},a))})]})})]})]})})};export{D as default};
