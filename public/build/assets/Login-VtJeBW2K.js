import{r as a,m as h,j as e}from"./app-B34_OK17.js";import{C as f}from"./circle-alert-CWkh8oYs.js";import{E as p,a as b}from"./eye-ZTR39ppN.js";import{L as w}from"./loader-circle-DERsq374.js";import"./createLucideIcon-bMNoER0k.js";function S(){const[i,m]=a.useState(!1),[j,o]=a.useState("idle"),{data:t,setData:r,post:u,processing:c,errors:n}=h({email:"",password:"",remember:!1,latitude:null,longitude:null,device_id:null});a.useEffect(()=>{r("device_id",(()=>{const l=window.navigator,d=window.screen,g=[l.userAgent,d.height,d.width,d.colorDepth,new Date().getTimezoneOffset()];return btoa(g.join("|")).substring(0,32)})())},[]),a.useEffect(()=>{navigator.geolocation?(o("loading"),navigator.geolocation.getCurrentPosition(s=>{r(l=>({...l,latitude:s.coords.latitude,longitude:s.coords.longitude})),o("success")},s=>{console.error("Error getting location:",s.message),o("error")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})):(console.log("Geolocation is not supported by this browser."),o("error"))},[]);const x=s=>{s.preventDefault(),{...t,gps_location:t.latitude&&t.longitude&&`${t.latitude}${t.longitude}`},u(route("login"),{onSuccess:()=>{window.location.href="/admin/dashboard"}})};return e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Welcome"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in to your account"})]}),Object.keys(n).length>0&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"block sm:inline",children:n.email||n.password||"Please correct the errors below"})]})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("input",{id:"email",type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:t.email,onChange:s=>r("email",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:i?"text":"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:t.password,onChange:s=>r("password",s.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!i),children:i?e.jsx(p,{className:"h-5 w-5 text-gray-400"}):e.jsx(b,{className:"h-5 w-5 text-gray-400"})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:t.remember,onChange:s=>r("remember",s.target.checked)}),e.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),route().has("password.request")&&e.jsx("a",{href:route("password.request"),className:"text-sm text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?e.jsx(w,{className:"h-5 w-5 animate-spin"}):"Sign in"})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:route("register"),className:"text-sm text-indigo-600 hover:text-indigo-500",children:"Don't have an account? Sign up"})})]})]})})}export{S as default};
