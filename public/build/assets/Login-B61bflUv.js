import{r as o,m as h,j as e}from"./app-BxR6Q-0a.js";import{C as b}from"./circle-alert-DbRsl42W.js";import{E as f,a as p}from"./eye-D9-M9Uj3.js";import{L as w}from"./loader-circle-Bu3iqMGj.js";import"./createLucideIcon-BrUsTN6T.js";function C(){const[a,m]=o.useState(!1),[j,r]=o.useState("idle"),{data:i,setData:t,post:u,processing:d,errors:n}=h({email:"",password:"",remember:!1,gps_location:null,device_id:null});o.useEffect(()=>{t("device_id",(()=>{const l=window.navigator,c=window.screen,g=[l.userAgent,c.height,c.width,c.colorDepth,new Date().getTimezoneOffset()];return btoa(g.join("|")).substring(0,32)})())},[]),o.useEffect(()=>{navigator.geolocation?(r("loading"),navigator.geolocation.getCurrentPosition(s=>{const l=`${s.coords.latitude},${s.coords.longitude}`;t("gps_location",l),r("success")},s=>{console.error("Error getting location:",s.message),r("error")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})):(console.log("Geolocation is not supported by this browser."),r("error"))},[]);const x=s=>{s.preventDefault(),u(route("login"),{onSuccess:()=>{window.location.href="/admin/dashboard"}})};return e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Welcome"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in to your account"})]}),Object.keys(n).length>0&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"block sm:inline",children:n.email||n.password||"Please correct the errors below"})]})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("input",{id:"email",type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:i.email,onChange:s=>t("email",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:a?"text":"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:i.password,onChange:s=>t("password",s.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!a),children:a?e.jsx(f,{className:"h-5 w-5 text-gray-400"}):e.jsx(p,{className:"h-5 w-5 text-gray-400"})})]})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:i.remember,onChange:s=>t("remember",s.target.checked)}),e.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:d?e.jsx(w,{className:"h-5 w-5 animate-spin"}):"Sign in"})})]})]})})}export{C as default};
