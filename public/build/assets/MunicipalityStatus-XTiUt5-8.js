import{r as a,j as e,a as u}from"./app-C6KbmfFr.js";import{A as p}from"./AdminLayout-DbH3QWWo.js";import"./x-BRrquwPd.js";import"./createLucideIcon-CNN_eIL7.js";import"./log-out-Bd9QQEst.js";const b=()=>{const[l,x]=a.useState(""),[s,n]=a.useState(null),[i,o]=a.useState(!1),[c,d]=a.useState(null),m=async t=>{t.preventDefault(),o(!0),d(null),n(null);try{const r=await u.post("/api/Municipality/MunicipalityStatus",{referenceid:l});n(r.data)}catch{d("Error fetching status. Please try again.")}finally{o(!1)}};return e.jsx(p,{children:e.jsx("div",{className:"p-8 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Municipality Status Checker"]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("form",{onSubmit:m,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference ID"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})}),e.jsx("input",{type:"text",value:l,onChange:t=>x(t.target.value),placeholder:"Enter Reference ID",className:"pl-10 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),e.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium flex items-center justify-center",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking Status..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Check Status"]})})]})}),c&&e.jsx("div",{className:"mb-6 p-4 border-l-4 border-red-500 bg-red-50 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:c})})]})}),s&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Status Results"})]}),e.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg shadow-sm",children:e.jsx("table",{className:"min-w-full divide-y divide-gray-200",children:e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50 w-1/3",children:"Response Code"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.response_code})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50 w-1/3",children:"Status"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:s.status?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx("svg",{className:"-ml-0.5 mr-1.5 h-3 w-3 text-green-500",fill:"currentColor",viewBox:"0 0 12 12",children:e.jsx("path",{d:"M4 8l2 2 4-4m.535-2.857a7 7 0 11-9.9 9.9 7 7 0 019.9-9.9z"})}),"Success"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx("svg",{className:"-ml-0.5 mr-1.5 h-3 w-3 text-red-500",fill:"currentColor",viewBox:"0 0 12 12",children:e.jsx("path",{d:"M10 2.5L7.5 5 10 7.5 7.5 10 5 7.5 2.5 10 0 7.5 2.5 5 0 2.5 2.5 0 5 2.5 7.5 0 10 2.5z"})}),"Failed"]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50 w-1/3",children:"Message"}),e.jsx("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-700",children:s.message})]}),s.data&&Object.entries(s.data).map(([t,r],h)=>e.jsxs("tr",{className:h%2===0?"":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50 w-1/3",children:t.replace(/_/g," ").toUpperCase()}),e.jsx("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-700",children:r||e.jsx("span",{className:"text-gray-400 italic",children:"N/A"})})]},t))]})})})]})]})]})})})};export{b as default};
