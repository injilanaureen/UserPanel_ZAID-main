import{r as u,j as e,S as b}from"./app-PNOP2Fer.js";import{A as j}from"./AdminLayout-DVsnWUWc.js";import"./x-BXlx1Ns4.js";import"./createLucideIcon-DCAk2174.js";import"./log-out-Cwx7D_qn.js";const C=()=>{const[a,c]=u.useState({availableTripId:"",boardingPointId:"",droppingPointId:"",source:"",destination:"",bookingType:"ONLINE",serviceCharge:"",paymentMode:"CASH",inventoryItems:[{seatName:"",fare:"",serviceTax:"",operatorServiceCharge:"",ladiesSeat:"false",passenger:{name:"",mobile:"",title:"Mr",email:"",age:"",gender:"MALE",address:"",idType:"",idNumber:"",primary:"0"}}]}),[s,h]=u.useState({}),[m,p]=u.useState(!1),r=(n,o=0)=>{const{name:i,value:x}=n.target;if(i.includes("passenger.")){const t=i.split("passenger.")[1];c(d=>({...d,inventoryItems:d.inventoryItems.map((l,v)=>v===o?{...l,passenger:{...l.passenger,[t]:x}}:l)}))}else if(i.includes("inventoryItems.")){const t=i.split(".")[2];c(d=>({...d,inventoryItems:d.inventoryItems.map((l,v)=>v===o?{...l,[t]:x}:l)}))}else c(t=>({...t,[i]:x}))},g=n=>{n.preventDefault(),p(!0),h({}),b.post("/admin/bus-ticket/block/api",a,{onSuccess:()=>{p(!1),alert("Ticket blocked successfully!")},onError:o=>{p(!1),h(o)}})};return e.jsx(j,{children:e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Block Bus Ticket"}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Available Trip ID"}),e.jsx("input",{type:"number",name:"availableTripId",value:a.availableTripId,onChange:r,className:"w-full p-2 border rounded"}),s.availableTripId&&e.jsx("span",{className:"text-red-500",children:s.availableTripId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Boarding Point ID"}),e.jsx("input",{type:"number",name:"boardingPointId",value:a.boardingPointId,onChange:r,className:"w-full p-2 border rounded"}),s.boardingPointId&&e.jsx("span",{className:"text-red-500",children:s.boardingPointId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Dropping Point ID"}),e.jsx("input",{type:"number",name:"droppingPointId",value:a.droppingPointId,onChange:r,className:"w-full p-2 border rounded"}),s.droppingPointId&&e.jsx("span",{className:"text-red-500",children:s.droppingPointId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Source"}),e.jsx("input",{type:"text",name:"source",value:a.source,onChange:r,className:"w-full p-2 border rounded"}),s.source&&e.jsx("span",{className:"text-red-500",children:s.source})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Destination"}),e.jsx("input",{type:"text",name:"destination",value:a.destination,onChange:r,className:"w-full p-2 border rounded"}),s.destination&&e.jsx("span",{className:"text-red-500",children:s.destination})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Booking Type"}),e.jsxs("select",{name:"bookingType",value:a.bookingType,onChange:r,className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"ONLINE",children:"Online"}),e.jsx("option",{value:"OFFLINE",children:"Offline"}),e.jsx("option",{value:"STANDARD",children:"Standard"})]}),s.bookingType&&e.jsx("span",{className:"text-red-500",children:s.bookingType})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Service Charge"}),e.jsx("input",{type:"number",name:"serviceCharge",value:a.serviceCharge,onChange:r,className:"w-full p-2 border rounded"}),s.serviceCharge&&e.jsx("span",{className:"text-red-500",children:s.serviceCharge})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Payment Mode"}),e.jsxs("select",{name:"paymentMode",value:a.paymentMode,onChange:r,className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"CARD",children:"Card"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"NETBANKING",children:"Netbanking"})]}),s.paymentMode&&e.jsx("span",{className:"text-red-500",children:s.paymentMode})]})]}),e.jsxs("div",{className:"border p-4 rounded",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Passenger Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Seat Name"}),e.jsx("input",{type:"text",name:"inventoryItems.0.seatName",value:a.inventoryItems[0].seatName,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.seatName"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.seatName"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Fare"}),e.jsx("input",{type:"number",name:"inventoryItems.0.fare",value:a.inventoryItems[0].fare,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.fare"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.fare"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Service Tax"}),e.jsx("input",{type:"number",name:"inventoryItems.0.serviceTax",value:a.inventoryItems[0].serviceTax,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.serviceTax"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.serviceTax"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Operator Service Charge"}),e.jsx("input",{type:"number",name:"inventoryItems.0.operatorServiceCharge",value:a.inventoryItems[0].operatorServiceCharge,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.operatorServiceCharge"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.operatorServiceCharge"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Ladies Seat"}),e.jsxs("select",{name:"inventoryItems.0.ladiesSeat",value:a.inventoryItems[0].ladiesSeat,onChange:n=>r(n,0),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]}),s["inventoryItems.0.ladiesSeat"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.ladiesSeat"]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Name"}),e.jsx("input",{type:"text",name:"inventoryItems.0.passenger.name",value:a.inventoryItems[0].passenger.name,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.passenger.name"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.name"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Mobile"}),e.jsx("input",{type:"number",name:"inventoryItems.0.passenger.mobile",value:a.inventoryItems[0].passenger.mobile,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.passenger.mobile"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.mobile"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Title"}),e.jsxs("select",{name:"inventoryItems.0.passenger.title",value:a.inventoryItems[0].passenger.title,onChange:n=>r(n,0),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"Mr",children:"Mr"}),e.jsx("option",{value:"Ms",children:"Ms"}),e.jsx("option",{value:"Mrs",children:"Mrs"})]}),s["inventoryItems.0.passenger.title"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.title"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Email"}),e.jsx("input",{type:"email",name:"inventoryItems.0.passenger.email",value:a.inventoryItems[0].passenger.email,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.passenger.email"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.email"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Age"}),e.jsx("input",{type:"number",name:"inventoryItems.0.passenger.age",value:a.inventoryItems[0].passenger.age,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.passenger.age"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.age"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Gender"}),e.jsxs("select",{name:"inventoryItems.0.passenger.gender",value:a.inventoryItems[0].passenger.gender,onChange:n=>r(n,0),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"MALE",children:"Male"}),e.jsx("option",{value:"FEMALE",children:"Female"})]}),s["inventoryItems.0.passenger.gender"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.gender"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Address"}),e.jsx("input",{type:"text",name:"inventoryItems.0.passenger.address",value:a.inventoryItems[0].passenger.address,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.passenger.address"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.address"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"ID Type"}),e.jsx("input",{type:"text",name:"inventoryItems.0.passenger.idType",value:a.inventoryItems[0].passenger.idType,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.passenger.idType"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.idType"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"ID Number"}),e.jsx("input",{type:"text",name:"inventoryItems.0.passenger.idNumber",value:a.inventoryItems[0].passenger.idNumber,onChange:n=>r(n,0),className:"w-full p-2 border rounded"}),s["inventoryItems.0.passenger.idNumber"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.idNumber"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block",children:"Primary Passenger"}),e.jsxs("select",{name:"inventoryItems.0.passenger.primary",value:a.inventoryItems[0].passenger.primary,onChange:n=>r(n,0),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"0",children:"No"}),e.jsx("option",{value:"1",children:"Yes"})]}),s["inventoryItems.0.passenger.primary"]&&e.jsx("span",{className:"text-red-500",children:s["inventoryItems.0.passenger.primary"]})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:m,className:`w-full p-2 text-white rounded ${m?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:m?"Blocking Ticket...":"Block Ticket"})})]})]})})};export{C as default};
